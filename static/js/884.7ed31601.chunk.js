"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[884],{610:function(e,n,r){r.d(n,{Aj:function(){return i},Jh:function(){return f},yK:function(){return o},yO:function(){return l},z1:function(){return u}});var t=r(861),a=r(757),c=r.n(a),s={method:"GET",headers:{accept:"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiIzNzAwNGViNTJkYTE4NDRjODU4YjE1MzdlYzk1YTk5ZiIsInN1YiI6IjY0OGFkN2JlNDJiZjAxMDEwMWJjYjVlZiIsInNjb3BlcyI6WyJhcGlfcmVhZCJdLCJ2ZXJzaW9uIjoxfQ.x090TXHYahh2QUQ1L2zsDvYpVzC9FYM2zQzILJ2OICE"}},i=function(){var e=(0,t.Z)(c().mark((function e(){var n,r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/trending/all/day?language=en-US",s);case 3:return n=e.sent,e.next=6,n.json();case 6:return r=e.sent,e.next=9,r.results;case 9:return t=e.sent,e.abrupt("return",t);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,t.Z)(c().mark((function e(n){var r,t,a;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/search/movie?query=".concat(n,"&include_adult=false&language=en-US&page=1"),s);case 3:return r=e.sent,e.next=6,r.json();case 6:return t=e.sent,e.next=9,t.results;case 9:return a=e.sent,e.abrupt("return",a);case 13:return e.prev=13,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 16:case"end":return e.stop()}}),e,null,[[0,13]])})));return function(n){return e.apply(this,arguments)}}(),o=function(){var e=(0,t.Z)(c().mark((function e(n){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(n,"?language=en-US"),s);case 3:return r=e.sent,e.next=6,r.json();case 6:return t=e.sent,e.abrupt("return",t);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),l=function(){var e=(0,t.Z)(c().mark((function e(n){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/credits?language=en-US"),s);case 3:return r=e.sent,e.next=6,r.json();case 6:return t=e.sent,e.abrupt("return",t.cast);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}(),f=function(){var e=(0,t.Z)(c().mark((function e(n){var r,t;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("https://api.themoviedb.org/3/movie/".concat(n,"/reviews?language=en-US&page=1"),s);case 3:return r=e.sent,e.next=6,r.json();case 6:return t=e.sent,e.abrupt("return",t.results);case 10:return e.prev=10,e.t0=e.catch(0),e.abrupt("return",console.error(e.t0));case 13:case"end":return e.stop()}}),e,null,[[0,10]])})));return function(n){return e.apply(this,arguments)}}()},884:function(e,n,r){r.r(n);var t=r(861),a=r(439),c=r(757),s=r.n(c),i=r(791),u=r(689),o=r(87),l=r(329),f=r(610),p=r(93),h=r(184);n.default=function(){var e,n,r=(0,i.useState)({}),c=(0,a.Z)(r,2),d=c[0],v=c[1],_=(0,l.F)().BASE_URL,m=(0,u.UO)().movieId,x=(0,u.TH)(),g=(0,i.useRef)(null!==(e=null===(n=x.state)||void 0===n?void 0:n.from)&&void 0!==e?e:"/");(0,i.useEffect)((function(){var e=function(){var e=(0,t.Z)(s().mark((function e(n){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,(0,f.yK)(n);case 2:r=e.sent,v(r);case 4:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}();m&&e(m)}),[m]);var j=d.title,b=d.poster_path,w=d.original_title,k=d.vote_average,Z=d.overview,y=d.genres;return j&&(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(o.OL,{className:p.Z.btn_back,to:g.current,children:"\u2190 Back"}),(0,h.jsxs)("div",{children:[(0,h.jsxs)("div",{className:p.Z.film,children:[(0,h.jsx)("div",{children:(0,h.jsx)("img",{className:p.Z.film_image,src:b?"".concat(_).concat(b):"https://picsum.photos/seed/cats/230/345",alt:w})}),(0,h.jsxs)("div",{className:p.Z.film_context,children:[(0,h.jsx)("h2",{children:j}),(0,h.jsxs)("p",{children:["Users score: ",Math.round(10*k),"%"]}),(0,h.jsx)("h3",{children:"Overview"}),(0,h.jsx)("p",{children:Z}),(0,h.jsx)("h3",{children:"Genres"}),(0,h.jsx)("ul",{children:y&&y.map((function(e){var n=e.name,r=e.id;return(0,h.jsx)("li",{children:n},r)}))})]})]}),(0,h.jsxs)("nav",{className:p.Z.add_info,children:[(0,h.jsx)("p",{children:"Additional information"}),(0,h.jsx)(o.OL,{className:p.Z.add_info_link,to:"cast",children:"Cast"}),(0,h.jsx)(o.OL,{className:p.Z.add_info_link,to:"rewiews",children:"Reviews"})]}),(0,h.jsx)(i.Suspense,{children:(0,h.jsx)(u.j3,{})})]})]})}},93:function(e,n){n.Z={title:"Page_title__rLLf-",home_link:"Page_home_link__QKc3O",form:"Page_form__DxLsj",input:"Page_input__m56hz",btn_back:"Page_btn_back__4szh0",film:"Page_film__j005y",film_image:"Page_film_image__GRYRX",film_context:"Page_film_context__+u4d2",add_info:"Page_add_info__obf6Z",add_info_link:"Page_add_info_link__inE0o"}},861:function(e,n,r){function t(e,n,r,t,a,c,s){try{var i=e[c](s),u=i.value}catch(o){return void r(o)}i.done?n(u):Promise.resolve(u).then(t,a)}function a(e){return function(){var n=this,r=arguments;return new Promise((function(a,c){var s=e.apply(n,r);function i(e){t(s,a,c,i,u,"next",e)}function u(e){t(s,a,c,i,u,"throw",e)}i(void 0)}))}}r.d(n,{Z:function(){return a}})}}]);
//# sourceMappingURL=884.7ed31601.chunk.js.map